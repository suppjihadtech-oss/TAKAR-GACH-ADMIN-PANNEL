<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡¶ü‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶ó‡¶æ‡¶õ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ V10</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        body{background:#f0fdf4;font-family:sans-serif;margin:0;padding:20px}
        .card{background:white;padding:20px;border-radius:10px;box-shadow:0 2px 10px rgba(0,0,0,0.05);margin-bottom:20px}
        .inp{width:100%;padding:12px;margin:5px 0 15px 0;border:1px solid #ddd;border-radius:8px;box-sizing:border-box}
        .btn{padding:12px 25px;background:#059669;color:white;border:none;border-radius:8px;cursor:pointer;font-weight:bold}
        .row{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #eee;padding:10px 0}
        h2,h3{color:#065f46;margin-top:0}
    </style>
</head>
<body>
    <div id="login">
        <div class="card" style="max-width:400px;margin:50px auto;text-align:center">
            <h2>‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶≤‡¶ó‡¶á‡¶®</h2>
            <input id="u" class="inp" placeholder="Username">
            <input id="p" type="password" class="inp" placeholder="Password">
            <button class="btn" onclick="auth()">Access Panel</button>
        </div>
    </div>

    <div id="panel" style="display:none">
        <div class="card">
            <h3>‚öôÔ∏è ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶∏‡ßá‡¶ü‡¶Ü‡¶™</h3>
            <small>‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶¶‡¶ø‡¶≤‡ßá ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßá‡¶∞ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡¶°‡¶æ‡¶≤‡ßá ‡¶∏‡ßá‡¶ü‡¶æ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶¨‡ßá‡•§</small><br><br>
            <label>‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂ ‡¶™‡¶æ‡¶∞‡ßç‡¶∏‡ßã‡¶®‡¶æ‡¶≤ ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞:</label>
            <input id="set-bkash" class="inp" placeholder="017...">
            <label>‡¶®‡¶ó‡¶¶ ‡¶™‡¶æ‡¶∞‡ßç‡¶∏‡ßã‡¶®‡¶æ‡¶≤ ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞:</label>
            <input id="set-nagad" class="inp" placeholder="018...">
            <label>‡¶®‡ßã‡¶ü‡¶ø‡¶∂:</label>
            <input id="set-notice" class="inp" placeholder="‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßá‡¶∞ ‡¶®‡ßã‡¶ü‡¶ø‡¶∂...">
            <button class="btn" onclick="saveSet()">Save Settings</button>
        </div>

        <div class="card">
            <h3>üíé VIP ‡¶™‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶® ‡¶§‡ßà‡¶∞‡¶ø</h3>
            <input id="v-name" class="inp" placeholder="‡¶®‡¶æ‡¶Æ (Platinum/Gold/Silver)">
            <input id="v-price" type="number" class="inp" placeholder="‡¶¶‡¶æ‡¶Æ (‡¶ü‡¶æ‡¶ï‡¶æ)">
            <div style="display:flex;gap:10px">
                <input id="v-inc" type="number" class="inp" placeholder="‡¶°‡ßá‡¶á‡¶≤‡¶ø ‡¶Ü‡ßü">
                <input id="v-day" type="number" class="inp" placeholder="‡¶Æ‡ßá‡ßü‡¶æ‡¶¶ (‡¶¶‡¶ø‡¶®)">
            </div>
            <button class="btn" onclick="addVip()">Add Plan</button>
            <div id="vip-list" style="margin-top:20px"></div>
        </div>

        <div class="card">
            <h3>üìã ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü</h3>
            <input id="t-ti" class="inp" placeholder="Title">
            <input id="t-rw" type="number" class="inp" placeholder="Reward">
            <input id="t-lnk" class="inp" placeholder="Link">
            <button class="btn" onclick="addTask()">Add Task</button>
            <div id="task-list" style="margin-top:20px"></div>
        </div>

        <div class="card">
            <h3>üîî ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü</h3>
            <div id="req-list"></div>
        </div>
    </div>

    <script>
        const firebaseConfig = { apiKey: "AIzaSyDgI-d8iwWr40tmknbY6jhH0oRb2Tvg4d0", authDomain: "takar-gach-a1d84.firebaseapp.com", databaseURL: "https://takar-gach-a1d84-default-rtdb.firebaseio.com", projectId: "takar-gach-a1d84", storageBucket: "takar-gach-a1d84.firebasestorage.app", messagingSenderId: "637802367074", appId: "1:637802367074:web:2e7f6c0670ec47f3a1693b", measurementId: "G-0QL9LB7BSK" };
        firebase.initializeApp(firebaseConfig); const db=firebase.database();

        function auth(){
            if(document.getElementById('u').value==='JIHAD' && document.getElementById('p').value==='198373ZA'){
                document.getElementById('login').style.display='none'; document.getElementById('panel').style.display='block'; load();
            } else alert('‡¶≠‡ßÅ‡¶≤ ‡¶§‡¶•‡ßç‡¶Ø!');
        }

        function load(){
            db.ref('settings').on('value',s=>{
                const d=s.val()||{};
                if(d.config){
                    document.getElementById('set-bkash').value=d.config.bkash||'';
                    document.getElementById('set-nagad').value=d.config.nagad||'';
                }
                document.getElementById('set-notice').value=d.notice||'';
                
                // VIP List
                const vl=document.getElementById('vip-list'); vl.innerHTML='';
                if(d.vipPlans) Object.keys(d.vipPlans).forEach(k=>vl.innerHTML+=`<div class="row"><b>${d.vipPlans[k].name}</b> <span style="color:red;cursor:pointer" onclick="del('vipPlans','${k}')">Delete</span></div>`);
                
                // Task List
                const tl=document.getElementById('task-list'); tl.innerHTML='';
                if(d.tasks) Object.keys(d.tasks).forEach(k=>tl.innerHTML+=`<div class="row">${d.tasks[k].title} <span style="color:red;cursor:pointer" onclick="del('tasks','${k}')">Delete</span></div>`);
            });

            db.ref('users').on('value',s=>{
                const rl=document.getElementById('req-list'); rl.innerHTML=''; const u=s.val()||{};
                Object.keys(u).forEach(k=>{
                    if(u[k].history) Object.keys(u[k].history).forEach(h=>{
                        const d=u[k].history[h];
                        if(d.status==='Pending'){
                            rl.innerHTML+=`<div class="row"><div><b>${u[k].name}</b><br><small>${d.type} (${d.amount})</small></div><div><button onclick="st('${k}','${h}','Success','${d.type}')">‚úî</button> <button onclick="st('${k}','${h}','Rejected','${d.type}')" style="background:red;color:white;border:none;padding:5px 10px;border-radius:5px">‚úò</button></div></div>`;
                        }
                    });
                });
            });
        }

        function saveSet(){ db.ref('settings/config').update({bkash:document.getElementById('set-bkash').value,nagad:document.getElementById('set-nagad').value}); db.ref('settings/notice').set(document.getElementById('set-notice').value); alert('Saved!'); }
        function addVip(){ db.ref('settings/vipPlans').push({name:document.getElementById('v-name').value,price:parseInt(document.getElementById('v-price').value),dailyIncome:parseInt(document.getElementById('v-inc').value),validity:parseInt(document.getElementById('v-day').value)}); }
        function addTask(){ db.ref('settings/tasks').push({title:document.getElementById('t-ti').value,reward:parseInt(document.getElementById('t-rw').value),type:'telegram',link:document.getElementById('t-lnk').value}); }
        function del(p,k){ if(confirm('Delete?')) db.ref(`settings/${p}/${k}`).remove(); }
        function st(u,k,s,t){ 
            if(!confirm('Sure?'))return;
            const up={}; up[`users/${u}/history/${k}/status`]=s;
            if(s==='Success'&&t.includes('Buy')){ up[`users/${u}/isVip`]=true; up[`users/${u}/currentPlan`]=t.replace('Buy ',''); }
            db.ref().update(up);
        }
    </script>
</body>
</html>

